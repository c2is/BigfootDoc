<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Bigfoot's documentation</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="../css/normalize.min.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/font-awesome.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body id="top">
<div class="header-container">
    <header class="wrapper clearfix">
        <h1 class="title">Documentation de Bigfoot</h1>
        <ul class="nav">
            <li id="lang"><a id="en" href="../en/chapter1.html">EN</a> | <a href="../fr/chapter1.html" id="fr">FR</a>
        </ul>
    </header>
</div>

<div class="main-container">
<div class="main wrapper clearfix">
<article id="page">
<header>

</header>

    <h3 id="Presentation">Présentation</h3>
<p>BigFoot est un CMF (Content Management Framework) développé sur la base du framework Symfony 2 et de l'ORM Doctrine. Il fournit un back office simple mais très évolutif : chaque fonctionnalité peut être facilement étendue par le développeur qui veut y injecter des spécificités métiers.</p>

<p>Voici la liste non exhaustive de ses fonctionnalités natives :</p>
<ul>
<li>gestion des utilisateurs et des rôles,
</li>
<li>gestion des langues,
</li>
<li>gestion de contextes,
</li>
<li>gestion de flux externes ou internes (imports),
</li>
<li>gestion des images (portfolio),
</li>
<li>gestion des menus,
</li>
<li>gestion des contenus éditoriaux,
</li>
<li>gestion des metadata SEO.</li></ul>


<h3 id="Installation-rapide">Installation rapide</h3>
<pre class="language-bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> <span style="color: #c20cb9; font-weight: bold;">git</span><span style="color: #000000; font-weight: bold;">@</span>github.com:c2is<span style="color: #000000; font-weight: bold;">/</span>Bigfoot.git your_project
<span style="color: #7a0874; font-weight: bold;">cd</span> your_project
curl <span style="color: #660033;">-sS</span> https:<span style="color: #000000; font-weight: bold;">//</span>getcomposer.org<span style="color: #000000; font-weight: bold;">/</span>installer <span style="color: #000000; font-weight: bold;">|</span> php
php composer.phar <span style="color: #c20cb9; font-weight: bold;">install</span>
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console doctrine:database:create
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console doctrine:schema:update <span style="color: #660033;">--force</span>
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console doctrine:fixtures:load
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-R</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>cache<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-dR</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>cache<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-R</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>logs<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-dR</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>logs<span style="color: #000000; font-weight: bold;">/</span>
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console bigfoot:theme:install <span style="color: #7a0874; font-weight: bold;">&#40;</span>--symlink<span style="color: #7a0874; font-weight: bold;">&#41;</span>
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console assetic:dump <span style="color: #660033;">--env</span>=admin
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console assetic:dump <span style="color: #660033;">--env</span>=admin_dev</pre>

<h3 id="Installation-detaillee">Installation détaillée</h3>
<p>Cloner le project</p>
<pre class="language-bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> <span style="color: #c20cb9; font-weight: bold;">git</span><span style="color: #000000; font-weight: bold;">@</span>github.com:c2is<span style="color: #000000; font-weight: bold;">/</span>Bigfoot.git your_project</pre>

<p>Installer les dépendances avec Composer:</p>
<pre class="language-bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">cd</span> your_project
curl <span style="color: #660033;">-sS</span> https:<span style="color: #000000; font-weight: bold;">//</span>getcomposer.org<span style="color: #000000; font-weight: bold;">/</span>installer <span style="color: #000000; font-weight: bold;">|</span> php
php composer.phar <span style="color: #c20cb9; font-weight: bold;">install</span></pre>
<p>Si vous n'avez pas indiqué les paramétrages lors de l'installation, paramétrez votre base de données avec l'interface web de configuration standard de Symfony 2 :</p>
<pre class="language-bash" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">/</span>app_dev.php<span style="color: #000000; font-weight: bold;">/</span>_configurator<span style="color: #000000; font-weight: bold;">/</span>step<span style="color: #000000; font-weight: bold;">/</span><span style="color: #000000;">0</span></pre>

<p>Si vous n'avez pas créé au préalable la base de données, Doctrine peut le faire pour vous (c'est une commande sécurisée qui peut être lancée même si la base avait été créée) :</p>
<pre class="language-bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console doctrine:database:create</pre>

<p>Créez le schéma de base et chargez les données de test :</p>
<pre class="language-bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console doctrine:schema:update <span style="color: #660033;">--force</span>
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console doctrine:fixtures:load</pre>

<p>Paramétrez les droits sur les répertoires de cache et de logs :</p>
<pre class="language-bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-R</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>cache<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-dR</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>cache<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-R</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>logs<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> setfacl <span style="color: #660033;">-dR</span> <span style="color: #660033;">-m</span> u:www-data:rwx <span style="color: #660033;">-m</span> u:<span style="color: #000000; font-weight: bold;">`</span><span style="color: #c20cb9; font-weight: bold;">whoami</span><span style="color: #000000; font-weight: bold;">`</span>:rwx app<span style="color: #000000; font-weight: bold;">/</span>logs<span style="color: #000000; font-weight: bold;">/</span></pre>

<p>Sur Macosx lancez plutôt ces commandes</p>
<pre class="language-bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">chmod</span> <span style="color: #660033;">-R</span> +a <span style="color: #ff0000;">&quot;<span style="color: #780078;">`whoami`</span> allow delete,write,append,file_inherit,directory_inherit&quot;</span> app<span style="color: #000000; font-weight: bold;">/</span>cache<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">chmod</span> <span style="color: #660033;">-R</span> +a <span style="color: #ff0000;">&quot;<span style="color: #780078;">`whoami`</span> allow delete,write,append,file_inherit,directory_inherit&quot;</span> app<span style="color: #000000; font-weight: bold;">/</span>logs<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">chmod</span> <span style="color: #660033;">-R</span> +a <span style="color: #ff0000;">&quot;_www allow delete,write,append,file_inherit,directory_inherit&quot;</span> app<span style="color: #000000; font-weight: bold;">/</span>cache<span style="color: #000000; font-weight: bold;">/</span>
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">chmod</span> <span style="color: #660033;">-R</span> +a <span style="color: #ff0000;">&quot;_www allow delete,write,append,file_inherit,directory_inherit&quot;</span> app<span style="color: #000000; font-weight: bold;">/</span>logs<span style="color: #000000; font-weight: bold;">/</span></pre>

<p>Les &quot;assets&quot; de Bigfoot ne sont pas dans l'habituel répertoire public/ dans Resources/ ; ils ne sont pas correctement installés avec l'habituel commande assets:install.
<br />Utilisez cette commande :</p>
<pre class="language-bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console bigfoot:theme:install <span style="color: #7a0874; font-weight: bold;">&#40;</span>--symlink<span style="color: #7a0874; font-weight: bold;">&#41;</span></pre>

<p>Cette commande installe les assets du back office BigFoot mais exécute également assets:install.
<br />Si vous la lancez avec l'option symlink, les assets seront installés par le biais de liens symboliques (au lieu d'une copie physique) ce qui est préférable en environnement de développement (pas besoin de relancer cette commande à chaque modification de css ou js).</p>

<p>Les assets de Bigfoot sont chargés via Assetic et sont ignorés par git. Pour que le back office s'affiche correctement en environnement de production vous devez exportez ces assets de la manière suivante :</p>
<pre class="language-bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console assetic:dump <span style="color: #660033;">--env</span>=admin
.<span style="color: #000000; font-weight: bold;">/</span>app<span style="color: #000000; font-weight: bold;">/</span>console assetic:dump <span style="color: #660033;">--env</span>=admin_dev</pre>

<footer>

</footer>
</article>

<aside id="toc">
    <ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#Presentation">Présentation</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter1.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#Installation-rapide">Installation rapide</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter1.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter1.html#Installation-detaillee">Installation détaillée</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#Contextes">Contextes</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#Definition-d-un-contexte">Définition d'un contexte</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#Definition-d-entites-contextualisables-en-annotation">Définition d'entités contextualisables en annotation</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#Activateur-de-contexte">Activateur de contexte</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#Ajout-d-un-menu">Ajout d'un menu</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#-"></a>
<ul class="toc-list">
<li class="toc-entry">
<a href="chapter2.html#Stockage-des-traductions-en-base-de-donnees">Stockage des traductions en base de données</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</aside>
</div> <!-- #main -->
</div> <!-- #main-container -->

<div class="footer-container">
    <footer class="wrapper">

    </footer>
</div>


<script type="text/javascript" src="../js/jquery.js"></script>
<script type="text/javascript" src="../js/script.js"></script>
</body>
</html>